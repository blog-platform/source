<auth-profile #profile></auth-profile>

<section [@start]="faq.state">

    <h4 >
        Для того, что-бы начать пользоваться платформой <b><i>itworks</i></b>, достатачно
    </h4>
    <ul>
        <li>быть пользователем GitHub</li>
        <li>создать репозиторий на GitHub</li>
        <li>авторизироваться на платформе</li>
        <li>активировать блог (ввести имя созданного репозитория в форму)</li>
    </ul>

    <form #form (submit)="go(profile.login, repoEl)" class="form-inline">
        <input [disabled]="!profile.logged" #repoEl type="text" class="form-control" placeholder="Repository name" required>
        <button [disabled]="!profile.logged" class="btn btn-primary" type="submit">Activate Blog</button>
        <span *ngIf="!profile.logged">Необходима авторизация</span>
    </form>

    <hr>
    <p class="alert alert-info">
        Для корректной работы блога, все изменения необходимо производить через интерфейс платформы
    </p>

    <div class="panel-group" id="accordion1">

        <div class="panel panel-default">
            <div class="panel-heading" (click)="faq.friends=!faq.friends">
                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion1" >
                    Как вести вести блог нескольким людям
                </a></h4>
            </div>
            <div class="panel-collapse collapse" [class.in]="faq.friends">
                <div class="panel-body">
                    Чтобы блог могли вести одновременно несколько человек, то необходимо:
                    <hr>
                    <ul>

                        <li>в своем репозитории зайти в настройки (<code>Settings</code>)</li>
                        <li>выбрать пункт <code>Collaborators</code></li>
                        <li>в поле ввести имя пользователя, которому предоставляется доступ</li>
                        <li>нажать кнопку <code>Add collaborator</code></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" (click)="faq.github=!faq.github">
                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion1" >
                    Проблемы с обновлением блога
                </a></h4>
            </div>
            <div class="panel-collapse collapse" [class.in]="faq.github">
                <div class="panel-body">
                    Скорее всего Вы работаете с блогом минуя платформу. <br> Для корректной работы блога, все изменения необходимо производить через интерфейс платформы <br> Если у вас есть непреодолимое желание использовать интерфейс GitHub или <code>git push</code>,
                    тогда необходимо:
                    <hr>
                    <ul>
                        <li>или настроить webhook:
                            <ul>

                                <li>в своем репозитории зайти в настройки</li>
                                <li>выбрать пункт add Webhooks</li>
                                <li>в поле Payload url вставить http://gitblog.pythonanywhere.com/`git_username`/`git_repo_name`/api/web_hook, где git_username это имя вашего аккаунта GitHub, а git_repo_name - репозитория</li>
                                <li>вcontent type выбрать application/json</li>
                                <li>Just the push event и Active должны быть отмечены</li>
                                <li>финальный аккорд - Add Webhook</li>
                                <li>или обновлять блог с помощью кнопки Update</li>
                            </ul>

                        </li>
                        <li>или обновлять блог с помощью кнопки Update</li>
                    </ul>

                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading" (click)="faq.comments=!faq.comments">
                <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion1" >
                    Почему недоступны комментарии
                </a></h4>
            </div>
            <div class="panel-collapse collapse" [class.in]="faq.comments">
                <div class="panel-body">
                    В форкнутом репозиторие нет возможности оставлять комментарии. <br> Необходимо использовать свой репозиторий

                </div>
            </div>
        </div>

    </div>
</section>
